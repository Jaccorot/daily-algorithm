package isipleagal;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class isIPLeagal {


    public static void main(String[] args) {
//        String ip1 = "172.16.11.14";
//        isIp(ip1);

//        String regex = "__re($SOURCE,publishTime:(\\d{13}),)";
//        isMatch(regex);
        String test = "<!DOCTYPE html><html><head><title>未命名场景</title><link rel=\"shortcut icon\" href=\"//lib.eqh5.com/favicon.ico\" type=\"image/x-icon\"><meta charset=\"utf-8\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"><meta name=\"baidu-site-verification\" content=\"2MKKT6mbuL\"><meta name=\"viewport\" id=\"viewport\" content=\"width=320,initial-scale=1,maximum-scale=1,user-scalable=no\"><meta name=\"keywords\" content=\"易企秀,免费,免费H5页面应用制作,移动场景应用制作与自营销管家,移动场景自营销管家,移动H5页面自营销工具,活动自营销管家,场景展示,免费的H5报名页面,收集潜在客户,二次营销,轻CRM,提高H5页面场景应用营销效果\"><meta name=\"description\" content=\"易企秀免费移动场景应用自营销管家提供技术支持\"><meta name=\"renderer\" content=\"webkit\"><meta name=\"robots\" content=\"index, follow\"><meta name=\"format-detection\" content=\"telephone=no\"><!-- no cache --><meta http-equiv=\"cache-control\" content=\"max-age=0\"><meta http-equiv=\"cache-control\" content=\"no-cache\"><meta http-equiv=\"expires\" content=\"0\"><meta http-equiv=\"expires\" content=\"Tue, 01 Jan 1980 1:00:00 GMT\"><meta http-equiv=\"pragma\" content=\"no-cache\"><!--<link rel=\"stylesheet\" href=\"//lib.eqh5.com/iconfonts/1.0.5/iconfonts.min.css\">--><link rel=\"stylesheet\" href=\"//as.yqxiu.cn/h5_view_2/css/view-18fac28.min.css\"></head><body style=\"padding: 0\"><div id=\"loading\" class=\"loading\" style=\"display: none\"><div class=\"loadbox\"><div class=\"loadlogo\"></div><div class=\"loadbg\"></div></div><div class=\"loading-tip\">欢迎制作易企秀</div></div><div id=\"content_load_check\" class=\"content_load_check\" style=\"display:none;width:0px;height:0px\"></div><!-- inject:vconsole --><!-- endinject --><script class=\"eqx-script\">\n" +
                "var __isServerRendered = true;\n" +
                "var scene = {\n" +
                "id:1032956,\n" +
                "code:\"TEUgzHEu\",\n" +
                "name: \"未命名场景\",\n" +
                "description: \"\",\n" +
                "pageMode:2,\n" +
                "cover:\"group1/M00/00/07/wKj5LVanYxmAaEE3AAAdI0Feqt0949.jpg\",\n" +
                "bgAudio:null,\n" +
                "property: {\"editorModel\":1},\n" +
                "createTime:1544576213000,\n" +
                "publishTime:1544576215000,\n" +
                "bizType:0,\n" +
                "type:101,\n" +
                "userId:\"402879bb51854a3a015185b73793000a\",\n" +
                "userType: \"1\",\n" +
                "memberType: \"\",\n" +
                "expiryTime: 1546307433000,\n" +
                "isTemplate: 0,\n" +
                "dsAppId: \"\",\n" +
                "loadingLogo: \"\"\n" +
                "};\n" +
                "var _configure={\"a\":{\"tail\":{\"brandSrc\":\"28a52832-0c3d-421b-b2da-0ead512272f5.png\",\"logoSrc\":\"\",\"logoLink\":\"http://cn.bing.com/1\",\"sceneName\":\"\",\"backgroundSrc\":\"\",\"id\":100023334,\"brandLink\":\"http://cn.bing.com/2\"}}};\n" +
                "\n" +
                "\n" +
                "\n" +
                "\n" +
                "</script>\n" +
                "<!-- eqx-mobile --><!-- eqx-end --><script class=\"eqx-script\">var HOST=window.eqxHOST={DOMAIN:\"yqxiu\",FILE:\"//test.test.res.eqh5.com/\",BIND_USER_FILE:\"//test.test.res.eqh5.com/\",FREE_USER_FILE:\"//test.test.res.eqh5.com/\",VIP_USER_FILE:\"//test.test.res.eqh5.com/\"};window.eqxVersion=\"18fac28\",function(){function e(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test.test(navigator.userAgent)||window.innerWidth<500}function i(){var e=1,i=document.documentElement.clientWidth||320,n=document.documentElement.clientHeight||486;e=i/n>=320/486?n/486:i/320;var t=\"width=320, initial-scale=\"+e+\", maximum-scale=\"+e+\", user-scalable=no\";document.getElementById(\"viewport\").setAttribute(\"content\",t)}var n=document.getElementById(\"loading\"),t=window.scene;if(t){var o=HOST.FILE;if(location.href.indexOf(HOST.DOMAIN)!==-1||window.viewData||(o=HOST.BIND_USER_FILE),\"/\"!=o.slice(-1)&&(o+=\"/\"),t.loadingLogo){var a=o+t.loadingLogo;n.innerHTML='<div class=\"loading-logo\"><img src=\"'+a+'\" class=\"logo-image\"></div>'}if(t.cover){var d=document.createElement(\"img\");d.id=\"shareImage\",d.style.display=\"none\",d.src=o+t.cover,document.body.appendChild(d)}}e()&&(i(),n.style.display=\"block\")}()</script><script type=\"text/javascript\" src=\"//datalog.eqxiu.com/tracker-view.js\" async></script><script>var _tracker_=window._tracker_||[];_tracker_.push([\"client_type\",\"PC\"]),_tracker_.push([\"client_edition\",\"0.0.1\"])</script><script src=\"//lib.eqh5.com/jquery/2.0.3/jquery.min.js\"></script><script>console.info(\"预览灰度: 18fac28\")</script><script class=\"eqx-google-datalog\">if(window.scene&&scene.ext&&scene.ext.yqc.ad){var head=document.getElementsByTagName(\"head\")[0],script=document.createElement(\"script\");script.type=\"text/javascript\",script.src=\"https://www.googletagmanager.com/gtag/js?id=UA-108552211-2\";var script1=document.createElement(\"script\");script1.append(\"window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-108552211-2');\"),head.appendChild(script),head.append(script1)}for(var tpls=document.getElementsByClassName(\"eqx-google-datalog\"),len=tpls.length,i=len-1;i>=0;i--)tpls[i].parentNode.removeChild(tpls[i])</script><script src=\"//as.yqxiu.cn/h5_view_2/view-18fac28.min.js\"></script>\n" +
                "\n" +
                "<script src=\"//da.yqxiu.cn/r.js?pid=3&v=1\" async></script><!-- eqx-ftl3 --><!-- eqx-end --><div id=\"wapShareSet\" class=\"wapShare\" style=\"display:none\"></div></body><script>try{var contentLoadCheckEle=document.querySelector(\"#content_load_check\"),head=document.getElementsByTagName(\"head\")[0];0==contentLoadCheckEle.childNodes.length&&document.write(\"<script src='//as.eqh5.com/h5_view_2/view-e10c53a.min.js'><\\/script>\");var contentLoadCheckStyle=window.getComputedStyle?window.getComputedStyle(contentLoadCheckEle,\"\"):contentLoadCheckEle.currentStyle;if(\"1px\"!=contentLoadCheckStyle.width){var link=document.createElement(\"link\");link.type=\"text/css\",link.rel=\"stylesheet\",link.href=\"//as.eqh5.com/h5_view_2/css/view-e10c53a.min.css\",head.appendChild(link)}}catch(e){}</script></html>";
        isMatch2(test);


    }
/**
* 1. 250-255：特点：三位数，百位是2，十位是5，个位是0~5，用正则表达式可以写成：25[0-5]
 * 2. 200-249：特点：三位数，百位是2，十位是0~4，个位是0~9，用正则表达式可以写成：2[0-4]\d
 * 3. 0-199：这个可以继续分拆，这样写起来更加简单明了.
 *   3.1. 0-9：    特点：一位数，个位是0~9，用正则表达式可以写成：\d
 *   3.2. 10-99：  特点：二位数，十位是1~9，个位是0~9，用正则表达式可以写成：[1-9]\d
 *   3.3. 100-199：特点：三位数，百位是1，十位是0~9，个位是0~9，用正则表达式可以写成：1\d{2}
* */
    public static void isIp(String ip) {
        String regex = "^(25[0-5]|2[0-4]\\d|((1\\d{2})|([1-9]?\\d))\\.){3}(25[0-5]|2[0-4]\\d|((1\\d{2})|([1-9]?\\d)))$";

        if (ip.matches(regex)) {
            System.out.println("合法");
        } else {
            System.out.println("不合法");
        }

    }

    public static void isMatch(String tmp) {
        Pattern funPattern = Pattern
                .compile("^__(\\w*?)\\((([\\w\\d\\,\\{\\}\\(\\)\\\\\\/:\\.\\$]*,?)*)\\)$");

        Matcher matcher = funPattern.matcher(tmp);
        if (matcher.find()) {
            System.out.println("     ");
            System.out.println(matcher.group());
            System.out.println("0000000");
            System.out.println(matcher.group(0));
            System.out.println("111111");
            System.out.println(matcher.group(1));
            System.out.println("22222");
            System.out.println(matcher.group(2));
            System.out.println("33333");
            System.out.println(matcher.group(3));
            System.out.println("合法");
        }
        else {
            System.out.println("不合法");
        }
    }

    public static void isMatch2(String temp2) {
        Pattern pattern = Pattern.compile("publishTime:(\\d{13})");
        Matcher matcher = pattern.matcher(temp2);
        if (matcher.find()) {
            System.out.println("     ");
            System.out.println(matcher.group());
            System.out.println("0000000");
            System.out.println(matcher.group(0));
            System.out.println("111111");
            System.out.println(matcher.group(1));
            System.out.println("合法");
        }
        else {
            System.out.println("不合法");
        }
    }


}
